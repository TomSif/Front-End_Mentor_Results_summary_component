/**
 * Styles du composant InputScore
 *
 * Design pattern:
 * - Utilise CSS custom properties pour les couleurs dynamiques :
 *   * --category-color : couleur principale (texte, icône)
 *   * --category-background : couleur de fond (valeurs -50 du design Figma)
 * - Icône et texte avec la couleur principale
 */

@use '../../styles/main' as *;

.inputScore {
  // Layout: flexbox avec space-between pour pousser les conteneurs aux extrémités
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: $spacing-200; // 16px entre les éléments

  // Background avec la couleur de fond exacte du design Figma
  background-color: var(--category-background);

  // Spacing et border radius
  padding: $spacing-200 $spacing-200; // 16px
  border-radius: $border-radius-md;

  // Transition pour les effets hover
  transition: background-color 0.2s ease-in-out;

  &:hover {
    // Légèrement plus foncé au hover (opacité réduite)
    background-color: color-mix(
      in srgb,
      var(--category-background) 90%,
      var(--category-color)
    );
  }
}

.categoryContainer {
  // Container pour icône + catégorie
  display: flex;
  align-items: center;
  gap: $spacing-200; // 16px entre icône et texte
  flex: 1; // Prend l'espace disponible
  min-width: 0; // Permet la compression
}

.icon {
  // Taille de l'icône
  width: 20px;
  height: 20px;

  // Applique la couleur de catégorie via filter (pour les SVG)
  // Note: Pour que ça fonctionne, les SVG doivent être en currentColor
  flex-shrink: 0; // Empêche l'icône de rétrécir
}

.category {
  // Typography - Text Preset 6 Bold
  @include text-preset-6-bold;

  // Couleur de la catégorie
  color: var(--category-color);

  // Permet au texte de se compresser et de se tronquer si nécessaire
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.scoreContainer {
  // Container pour l'input et "/100"
  display: flex;
  align-items: center;
  gap: $spacing-100; // 8px
  flex-shrink: 0; // Empêche le container de rétrécir
  white-space: nowrap; // Empêche le texte de passer à la ligne

  // Typography - Text Preset 5 Bold
  @include text-preset-5-bold;
}

.input {
  // Reset des styles par défaut
  border: none;
  background: transparent;
  outline: none;

  // Typography
  @include text-preset-5-bold;
  color: $color-navy-950;

  // Largeur fixe pour l'input
  width: 50px;
  text-align: right;
  border-bottom: 2px solid transparent;
  transform: translateY(+1px);

  // Enlève les flèches du input type="number"
  appearance: textfield;
  -moz-appearance: textfield;
  &::-webkit-outer-spin-button,
  &::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  // Focus state
  &:focus {
    // Soulignement subtil au focus
    border-bottom: 2px solid var(--category-color);
  }

  // Placeholder
  &::placeholder {
    color: $color-navy-200;
  }
}

.maxScore {
  // Typography - Text Preset 6 Medium
  border-bottom: 2px solid transparent;
  transform: translateY(+1px);
  @include text-preset-6-medium;
  color: color-mix(in srgb, $color-navy-950 50%, transparent);
  opacity: 0.5;
}
